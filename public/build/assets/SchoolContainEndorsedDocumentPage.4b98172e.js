import{_ as F,x as m,g as u,w as t,r as n,o as a,d as l,k as h,c as p,i as T,b as s,h as q,z as D,t as r,e as c,F as A,T as z}from"./app.bb9b3753.js";const N={created(){this.getCampusAdviserEdorsement()},data(){return{showForm:!1,isFetching:!1,endorsed_applications:[],requestHasError:null,isUpdating:!1,selectedItem:null,selectedEndorsed:[]}},methods:{async handleShowForm(d){this.selectedItem=d,this.showForm=!0},async deleteSelectedEndorsement(){this.isUpdating=!0,await m.post("api/delete-selected-endorsement",{indorsed_id:this.selectedEndorsed}).then(d=>{this.showForm=!1,this.selectedEndorsed=[],this.getCampusAdviserEdorsement()}).catch(d=>{this.hasRequestError='"Oops! It seems like there was an error when  deleting endorsement Please check your network connection. o and try again. if you think it it was the system please do contact the developer'}).finally(()=>{this.isUpdating=!1})},async getCampusAdviserEdorsement(){this.isFetching=!0,await m.get("api/get-endorsed-documents").then(d=>{console.log(d.data),this.endorsed_applications=d.data.data}).catch(d=>{this.hasRequestError='"Oops! It seems like there was an error when  fetchin information school year, Please check your network connection. o and try again. if you think it it was the system please do contact the developer'}).finally(()=>{this.isFetching=!1})}}},U=s("i",{class:"fa-regular fa-trash-can mr-2"},null,-1),V=c(" Delete Selected "),H={class:"relative w-12 px-6 sm:w-16 sm:px-8"},I=["value"],Y={class:"text-sm py-4"},P={class:"flex items-center"},j={class:""},G={class:"font-medium text-gray-900"},O={class:"text-sm py-4"},R={class:"text-sm py-4"},W={class:"flex items-center capitalize"},L={class:"text-sm py-4"},M={class:"text-sm py-4"},J={class:"flex items-center capitalize"},K={class:""},Q=s("td",{class:"py-2 text-sm text-gray-500"},null,-1),X=s("div",{class:"my-4"},null,-1),Z={class:"my-2 flex justify-end"},$=c(" No "),ee={key:0,class:"my-1 mx-2 w-full flex justify-center items-center"},te={key:1,class:"w-full"},se=c(" Yes ");function oe(d,i,ne,ae,o,f){const y=n("TableButton"),g=n("BaseTableSetup"),_=n("StatusCard"),w=n("BaseTable"),x=n("ConfirmCard"),v=n("WhiteButton"),k=n("BaseSpinner"),C=n("SquareButton"),E=n("BaseDialog"),b=n("GlobalErrorCard"),B=n("BaseCard");return a(),u(B,{subtitle:"Endorsed Documents"},{header:t(()=>[l(g,null,{"searchs-area":t(()=>[o.selectedEndorsed.length>0?(a(),u(y,{key:0,onClick:i[0]||(i[0]=e=>o.showForm=!0),mode:!0,class:"mr-2"},{default:t(()=>[U,V]),_:1})):h("",!0)]),"filters-area":t(()=>[]),"actions-area":t(()=>[]),_:1})]),default:t(()=>[l(w,{thdata:["","Application","Endorsed to","Status","School","School Year",""],isFetching:o.isFetching},{data:t(()=>[(a(!0),p(A,null,T(o.endorsed_applications,e=>(a(),p("tr",{key:e},[s("td",H,[q(s("input",{"onUpdate:modelValue":i[1]||(i[1]=S=>o.selectedEndorsed=S),value:e.id,type:"checkbox",class:"absolute left-4 top-1/2 -mt-2 h-4 w-4 accent-green-600 text-white rounded border-gray-200 sm:left-6"},null,8,I),[[D,o.selectedEndorsed]])]),s("td",Y,[s("div",P,[s("div",j,[s("div",G,r(e.response.application_form.title),1)])])]),s("td",O,[l(_,{class:"capitalize"},{default:t(()=>[c(r(e.campus_director.user.first_name)+" "+r(e.campus_director.user.last_name),1)]),_:2},1024)]),s("td",R,[s("div",W,[e.status=="processing"?(a(),u(_,{key:0,class:"bg-blue-100 text-blue-700"},{default:t(()=>[c(r(e.status),1)]),_:2},1024)):h("",!0),e.status=="approved"?(a(),u(_,{key:1,class:"bg-green-100 text-green-700"},{default:t(()=>[c(r(e.status),1)]),_:2},1024)):h("",!0),e.status=="re-evaluating"?(a(),u(_,{key:2,class:"bg-cyan-100 text-cyan-700"},{default:t(()=>[c(r(e.status),1)]),_:2},1024)):h("",!0),e.status=="returned"?(a(),u(_,{key:3,class:"bg-rose-100 text-rose-700"},{default:t(()=>[c(r(e.status),1)]),_:2},1024)):h("",!0)])]),s("td",L,[l(_,{class:"capitalize"},{default:t(()=>[c(r(e.campus_director.school.name),1)]),_:2},1024)]),s("td",M,[s("div",J,[s("div",K," SY. "+r(e.campus_director.school_year.from)+" - "+r(e.campus_director.school_year.to),1)])]),Q]))),128))]),_:1},8,["isFetching"]),(a(),u(z,{to:"#app"},[l(E,{show:o.showForm,width:"500",preventClose:!0},{"c-content":t(()=>[l(x,{title:"Are You Sure do you want to undo the selected endorsements to?"}),X,s("div",Z,[l(v,{class:"w-full mr-2",onClick:i[2]||(i[2]=e=>o.showForm=!1)},{default:t(()=>[$]),_:1}),o.isUpdating?(a(),p("div",ee,[l(k)])):(a(),p("div",te,[l(C,{class:"w-full",onClick:f.deleteSelectedEndorsement},{default:t(()=>[se]),_:1},8,["onClick"])]))])]),_:1},8,["show"])])),l(b,{onClose:i[3]||(i[3]=e=>o.requestHasError=null),show:o.requestHasError!=null},{default:t(()=>[c(r(o.requestHasError),1)]),_:1},8,["show"])]),_:1})}const le=F(N,[["render",oe]]);export{le as default};
