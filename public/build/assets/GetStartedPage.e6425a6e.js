import{o as l,c as m,b as s,_ as L,a as y,r as d,f as B,d as n,w as a,g as x,e as h,h as q,v as $,F as P,i as S,t as V,u as v,j as R,T as k,k as E,l as T,m as C,n as M,L as U}from"./app.a30414ce.js";function D(t,e){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function z(t,e){return l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])}const W={emits:["hasRequestError","close","showRegister"],data(){return{form:{email:"@gmail.com",password:"@password2!!",device_name:"chrome"},showPassword:!1,isLoginLoading:!1,isLoginWithGoogleLoading:!1,validationError:{},requestError:null}},methods:{toggleShowPassword(){this.showPassword=!this.showPassword},async loginUser(){this.isLoginLoading=!0,await y.post("api/login",this.form).then(t=>{localStorage.setItem("token",t.data.data.token),this.$emit("close"),window.location.reload(!0),this.form={email:"",password:"",device_name:""}}).catch(t=>{t.response.status===422?this.validationError=t.response.data.errors:this.$emit("hasRequestError",{statusCode:String(t.response.status),message:t.response.statusText})}).finally(()=>{this.isLoginLoading=!1})},async continueWithGoogle(){this.isLoginWithGoogleLoading=!0,await y.get("api/authorize/google/redirect").then(t=>{console.log(t.data),window.location.href=t.data.data.url}).catch(t=>{this.$emit("hasRequestError",{statusCode:String(t.response.status),message:t.response.statusText})}).finally(()=>{this.isLoginWithGoogleLoading=!1})}}},G=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[s("img",{class:"mx-auto h-12 w-auto",src:"/assets/sksu1.png",alt:"Your Company"}),s("h2",{class:"mt-3 text-center text-3xl font-bold tracking-tight text-gray-900"}," Sign in to your account ")],-1),H={class:"pt-3 sm:mx-auto sm:w-full sm:max-w-md"},I={class:"bg-white sm:rounded-lg sm:px-10"},A={class:"flex items-center"},N={class:"text-sm"},O=h("Forgot your password?"),Y={class:"min-h-16"},K={key:0,class:"flex justify-center items-center"},J={key:1,type:"submit",class:"flex w-full justify-center rounded-md border border-transparent bg-green-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"},Q={class:"mt-2"},X=s("div",{class:"relative"},[s("div",{class:"relative flex justify-center text-sm"},[s("span",{class:"bg-white px-2 text-gray-500"},"Or ")])],-1),Z={class:"mt-2"},ss={key:0,class:"flex justify-center items-center"},es=s("svg",{class:"h-5 w-5 mx-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},[s("defs",null,[s("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})]),s("clipPath",{id:"b"},[s("use",{"xlink:href":"#a",overflow:"visible"})]),s("path",{"clip-path":"url(#b)",fill:"#FBBC05",d:"M0 37V11l17 13z"}),s("path",{"clip-path":"url(#b)",fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),s("path",{"clip-path":"url(#b)",fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),s("path",{"clip-path":"url(#b)",fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})],-1),os=h(" Continue with Google "),ts={class:"flex items-center justify-center mt-2"},ns={class:"text-sm"},rs=h(" Dont have an account ? "),is=h("Register");function as(t,e,i,g,o,c){const p=d("BaseInput"),f=d("BaseInputPassword"),u=d("router-link"),_=d("BaseSpinner"),b=d("WideButton"),r=d("buttton");return l(),m("section",null,[G,s("div",H,[s("div",I,[s("form",{class:"space-y-3",onSubmit:e[3]||(e[3]=B((...w)=>c.loginUser&&c.loginUser(...w),["prevent"]))},[n(p,{label:"Email",modelValue:o.form.email,"onUpdate:modelValue":e[0]||(e[0]=w=>o.form.email=w),hasError:o.validationError.email},null,8,["modelValue","hasError"]),n(f,{label:"Password",show:o.showPassword,onShowPassword:e[1]||(e[1]=w=>o.showPassword=!o.showPassword),hasError:o.validationError.password,modelValue:o.form.password,"onUpdate:modelValue":e[2]||(e[2]=w=>o.form.password=w)},null,8,["show","hasError","modelValue"]),s("div",A,[s("div",N,[n(u,{to:{name:"forgotpassword"},class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:a(()=>[O]),_:1})])]),s("div",Y,[o.isLoginLoading?(l(),m("div",K,[n(_)])):(l(),m("button",J," Login "))])],32),s("div",Q,[X,s("div",Z,[s("div",null,[o.isLoginWithGoogleLoading?(l(),m("div",ss,[n(_)])):(l(),x(b,{key:1,onClick:c.continueWithGoogle},{default:a(()=>[es,os]),_:1},8,["onClick"])),s("div",ts,[s("div",ns,[rs,n(r,{onClick:e[4]||(e[4]=w=>t.$emit("showRegister")),class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:a(()=>[is]),_:1})])])])])])])])])}const F=L(W,[["render",as]]),ls={emits:["hasRequestError","close","showLogin"],created(){this.getRoles()},data(){return{form:{first_name:"",last_name:"",email:"@gmail.com",password:"@password2!!",password_confirmation:"@password2!!",role:null},showPassword:!1,showPasswordConfirmation:!1,isLoginLoading:!1,validationError:{},requestError:null,roles:[]}},methods:{toggleShowPassword(){this.showPassword=!this.showPassword},async getRoles(){await y.get("api/roles").then(t=>{this.roles=t.data.data,this.form.role=this.roles[0].name})},async registerUser(){this.isLoginLoading=!0,await y.post("api/register",this.form).then(t=>{const e={first_name:t.data.data.user.first_name,last_name:t.data.data.user.last_name,email:t.data.data.user.email,email:t.data.data.user.email,token:t.data.data.token};e.token!=null&&localStorage.setItem("token",e.token),this.$store.commit("setUserDetails",e),this.$emit("close"),window.location.reload(!0),this.form={email:"",password:"",device_name:""}}).catch(t=>{t.response.status===422?this.validationError=t.response.data.errors:this.$emit("hasRequestError",{statusCode:String(t.response.status),message:t.response.statusText})}).finally(()=>{this.isLoginLoading=!1})}}},ds=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[s("img",{class:"mx-auto h-12 w-auto",src:"/assets/sksu1.png",alt:"Your Company"}),s("h2",{class:"mt-3 text-center text-3xl font-bold tracking-tight text-gray-900"}," Register to Sksu WBSA ")],-1),ms={class:"pt-3 sm:mx-auto sm:w-full sm:max-w-md"},us={class:"bg-white sm:rounded-lg sm:px-10"},cs=["value"],hs={class:"min-h-16"},gs={key:0,class:"flex justify-center items-center"},ps={key:1,type:"submit",class:"flex w-full justify-center rounded-md border border-transparent bg-green-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"},ws={class:"mt-2"},fs=s("div",{class:"relative"},[s("div",{class:"relative flex justify-center text-sm"},[s("span",{class:"bg-white px-2 text-gray-500"},"Or ")])],-1),vs={class:"mt-2"},_s=s("svg",{class:"h-5 w-5 mx-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48"},[s("defs",null,[s("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"})]),s("clipPath",{id:"b"},[s("use",{"xlink:href":"#a",overflow:"visible"})]),s("path",{"clip-path":"url(#b)",fill:"#FBBC05",d:"M0 37V11l17 13z"}),s("path",{"clip-path":"url(#b)",fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"}),s("path",{"clip-path":"url(#b)",fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"}),s("path",{"clip-path":"url(#b)",fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})],-1),xs=h(" Continue with Google "),ys={class:"flex items-center justify-center mt-2"},bs={class:"text-sm"},ks=h(" Already have an account "),Es=h("Login ");function Cs(t,e,i,g,o,c){const p=d("BaseInput"),f=d("BaseInputPassword"),u=d("BaseSpinner"),_=d("WideButton"),b=d("buttton");return l(),m("section",null,[ds,s("div",ms,[s("div",us,[s("form",{class:"space-y-3",onSubmit:e[8]||(e[8]=B((...r)=>c.registerUser&&c.registerUser(...r),["prevent"]))},[n(p,{label:"Firstname",modelValue:o.form.first_name,"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.first_name=r),hasError:o.validationError.first_name},null,8,["modelValue","hasError"]),n(p,{label:"Lastname",modelValue:o.form.last_name,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.last_name=r),hasError:o.validationError.last_name},null,8,["modelValue","hasError"]),n(p,{label:"Email",modelValue:o.form.email,"onUpdate:modelValue":e[2]||(e[2]=r=>o.form.email=r),hasError:o.validationError.email},null,8,["modelValue","hasError"]),n(f,{label:"Password",show:o.showPassword,onShowPassword:e[3]||(e[3]=r=>o.showPassword=!o.showPassword),hasError:o.validationError.password,modelValue:o.form.password,"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.password=r)},null,8,["show","hasError","modelValue"]),n(f,{label:"Confirm Password",show:o.showPasswordConfirmation,onShowPassword:e[5]||(e[5]=r=>o.showPasswordConfirmation=!o.showPasswordConfirmation),modelValue:o.form.password_confirmation,"onUpdate:modelValue":e[6]||(e[6]=r=>o.form.password_confirmation=r)},null,8,["show","modelValue"]),s("div",null,[q(s("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>o.form.role=r),name:"location",class:"mt-1 block w-full rounded-md border py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},[(l(!0),m(P,null,S(o.roles,r=>(l(),m("option",{key:r.id,value:r.name},V(r.name),9,cs))),128))],512),[[$,o.form.role]])]),s("div",hs,[o.isLoginLoading?(l(),m("div",gs,[n(u)])):(l(),m("button",ps," Register "))])],32),s("div",ws,[fs,s("div",vs,[s("div",null,[n(_,null,{default:a(()=>[_s,xs]),_:1}),s("div",ys,[s("div",bs,[ks,n(b,{onClick:e[9]||(e[9]=r=>t.$emit("showLogin")),class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:a(()=>[Es]),_:1})])])])])])])])])}const j=L(ls,[["render",Cs]]),Ls={class:"bg-white"},Bs={class:"mx-auto flex max-w-7xl items-center justify-between px-4 py-6 sm:px-6 md:justify-start md:space-x-10 lg:px-8"},Ps=s("div",{class:"flex justify-start lg:w-0 lg:flex-1"},[s("a",{href:"#"},[s("span",{class:"sr-only"},"Your Company"),s("img",{class:"h-8 w-auto sm:h-10",src:"/assets/sksu1.png",alt:""})])],-1),Ss={class:"-my-2 -mr-2 md:hidden"},Vs=s("span",{class:"sr-only"},"Open menu",-1),Fs={class:"hidden items-center justify-end md:flex md:flex-1 lg:w-0"},js=h(" Get Started "),qs={class:"divide-y-2 divide-gray-50 rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},$s={class:"px-5 pt-5 pb-6"},Rs={class:"flex items-center justify-between"},Ts=s("div",null,[s("img",{class:"h-8 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=green&shade=600",alt:"Your Company"})],-1),Ms={class:"-mr-2"},Us=s("span",{class:"sr-only"},"Close menu",-1),Ds={class:"py-6 px-5"},zs={class:"grid grid-cols-2 gap-4"},Ws=["href"],Gs=s("div",{class:"mt-6"},[s("a",{href:"#",class:"flex w-full items-center justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700"},"Sign up"),s("p",{class:"mt-6 text-center text-base font-medium text-gray-500"},[h(" Existing customer? "),s("a",{href:"#",class:"text-gray-900"},"Sign in")])],-1),Hs=T('<main><div><div class="relative"><div class="absolute inset-x-0 bottom-0 h-1/2 bg-gray-100"></div><div class="mx-auto max-w-7xl sm:px-6 lg:px-8"><div class="relative shadow-xl sm:overflow-hidden sm:rounded-2xl"><div class="absolute inset-0"><img class="h-full w-full object-cover" src="/assets/sksu.jpg" alt="People working on laptops"><div class="absolute inset-0 bg-green-700 mix-blend-multiply"></div></div><div class="relative px-4 py-16 sm:px-6 sm:py-24 lg:py-32 lg:px-8"><h1 class="text-center text-4xl font-bold tracking-tight sm:text-5xl lg:text-6xl"><span class="block text-white">SKSU </span><span class="block text-green-200">Repository Management System</span></h1><div class="mx-auto mt-10 max-w-sm sm:flex sm:max-w-none sm:justify-center"><div class="space-y-4 sm:mx-auto sm:inline-grid sm:grid-cols-1 sm:gap-5 sm:space-y-0"></div></div></div></div></div></div><div class="bg-gray-100 py-10"></div></div></main>',1),Is={components:{LoginForm:F,RegisterForm:j},mounted(){this.$route.query.login=="attemp"&&this.showTheForm("login"),this.$route.query.login=="failed"&&(this.requestError={statusCode:"400",message:"Failed To Loign"})},data(){return{showForm:null,requestError:null}},methods:{showTheForm(t){this.showForm=t},closeTheForm(){this.showForm=null},closeErrorDialog(){this.requestError=null},showErrorDialog(t){this.requestError=t}}},Ns=Object.assign(Is,{name:"GetStartedPage",setup(t){const e=[{name:"Pricing",href:"#"},{name:"Partners",href:"#"},{name:"Company",href:"#"}];return(i,g)=>{const o=d("SquareButton"),c=d("BaseDialog"),p=d("RequestError"),f=d("BaseErrorDialog");return l(),m("div",Ls,[s("header",null,[n(v(R),{class:"relative bg-white"},{default:a(()=>[s("div",Bs,[Ps,s("div",Ss,[n(v(C),{class:"inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500"},{default:a(()=>[Vs,n(v(D),{class:"h-6 w-6","aria-hidden":"true"})]),_:1})]),s("div",Fs,[n(o,{onClick:g[0]||(g[0]=u=>i.showTheForm("login"))},{default:a(()=>[js]),_:1})])]),n(M,{"enter-active-class":"duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-100 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:a(()=>[n(v(U),{focus:"",class:"absolute inset-x-0 top-0 z-30 origin-top-right transform p-2 transition md:hidden"},{default:a(()=>[s("div",qs,[s("div",$s,[s("div",Rs,[Ts,s("div",Ms,[n(v(C),{class:"inline-flex items-center justify-center rounded-md bg-white p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500"},{default:a(()=>[Us,n(v(z),{class:"h-6 w-6","aria-hidden":"true"})]),_:1})])])]),s("div",Ds,[s("div",zs,[(l(),m(P,null,S(e,u=>s("a",{key:u.name,href:u.href,class:"text-base font-medium text-gray-900 hover:text-gray-700"},V(u.name),9,Ws)),64))]),Gs])])]),_:1})]),_:1})]),_:1})]),Hs,i.showForm=="login"?(l(),x(k,{key:0,to:"#app"},[n(c,{show:!!i.showForm,onClose:i.closeTheForm,width:"400",transition:"slide-fade-down"},{"c-content":a(()=>[n(F,{onHasRequestError:i.showErrorDialog,onClose:i.closeTheForm,onShowRegister:g[1]||(g[1]=u=>i.showTheForm("register"))},null,8,["onHasRequestError","onClose"])]),"c-actions":a(()=>[]),_:1},8,["show","onClose"])])):E("",!0),i.showForm=="register"?(l(),x(k,{key:1,to:"#app"},[n(c,{show:!!i.showForm,onClose:i.closeTheForm,width:"400",transition:"scale"},{"c-content":a(()=>[n(j,{onHasRequestError:i.showErrorDialog,onClose:i.closeTheForm,onShowLogin:g[2]||(g[2]=u=>i.showTheForm("login"))},null,8,["onHasRequestError","onClose"])]),"c-actions":a(()=>[]),_:1},8,["show","onClose"])])):E("",!0),(l(),x(k,{to:"#app"},[n(f,{show:i.requestError!=null,width:"400",transition:"slide-fade-down"},{"c-content":a(()=>[n(p,{statusCode:i.requestError.statusCode,onClose:i.closeErrorDialog,message:i.requestError.message},null,8,["statusCode","onClose","message"])]),"c-actions":a(()=>[]),_:1},8,["show"])]))])}}});export{Ns as default};
