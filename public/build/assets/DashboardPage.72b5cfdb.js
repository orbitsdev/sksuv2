import{_ as U,s as S,x as B,g,c as u,b as e,d as o,w as i,k as h,e as n,t as f,h as C,y as E,T as _,r as d,o as c,p as L,q as D}from"./app.a30414ce.js";const M={data(){return{showLogoutButton:!1,isLogout:!1,requestError:null,hasRuest:null,isScreenLoading:!1}},computed:{...S(["User"])},created(){},mounted(){this.getUserDetails()},methods:{closeErrorDialog(){this.requestError=null},checkUserAccount(){this.User.hasRoleOf(["guest"])&&this.$router.replace({name:"waiting-page"})},async logoutUser(){this.isLogout=!0,await B.post("api/logout").then(t=>{localStorage.removeItem("token"),window.location.reload(!0)}).catch(t=>{t.response.status==401&&(localStorage.removeItem("token"),window.location.reload(!0)),this.requestError={statusCode:String(t.response.status),message:t.response.statusText},localStorage.removeItem("token"),window.location.reload(!0)}).finally(()=>{this.isLogout=!1})},async getUserDetails(){this.isScreenLoading=!0,localStorage.getItem("token")!=null&&(this.$store.state.User==null?this.$store.dispatch("getUser").then(r=>{this.$store.commit("setUser",r),console.log("from fetch"),this.checkUserAccount()}).catch(r=>{this.requestError=r,this.$store.dispatch("logoutUser")}).finally(()=>{this.isScreenLoading=!1}):(this.checkUserAccount(),this.isScreenLoading=!1))}}},s=t=>(L("data-v-7f513037"),t=t(),D(),t),q={key:1},A={class:"flex"},O=s(()=>e("div",{class:"relative z-40 hidden",role:"dialog","aria-modal":"true"},[e("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-75"}),e("div",{class:"fixed inset-0 z-40 flex"},[e("div",{class:"relative flex w-full max-w-xs flex-1 flex-col bg-indigo-700 pt-5 pb-4"},[e("div",{class:"absolute top-0 right-0 -mr-12 pt-2"},[e("button",{type:"button",class:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"},[e("span",{class:"sr-only"},"Close sidebar"),e("svg",{class:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])]),e("div",{class:"flex flex-shrink-0 items-center px-4 py-10"},[e("img",{class:"h-8 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=300",alt:"Your Company"})])]),e("div",{class:"w-14 flex-shrink-0","aria-hidden":"true"})])],-1)),R={class:"bg-green-900 py-5 w-80"},I={class:""},j={class:"flex flex-shrink-0 items-center px-4"},z=["src"],V=s(()=>e("p",{class:"ml-2 text-white text-2xl font-bold font-rubik"},"WBRSA",-1)),N={class:"mt-5 flex flex-1 flex-col"},T={class:"flex-1 space-y-1 px-2 pb-4"},Y={key:0},H=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-calendar text-xl mr-4"})],-1)),P=n(" Manage Year "),W=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-school-flag text-xl mr-4"})],-1)),F=n(" Manage University "),G=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-users text-xl mr-4"})],-1)),J=n(" Manage Users "),Q=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-list-check text-xl mr-4"})],-1)),K=n(" Manage Applications Form "),X={key:1},Z=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-building-user text-xl mr-4"})],-1)),$=n(" Manage Organization "),ee=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-clipboard-user text-xl mr-4"})],-1)),se=n(" Manage Officers "),te=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-folder-open text-xl mr-4"})],-1)),oe=n(" Officers Documents "),ie=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-handshake-simple text-xl mr-4"})],-1)),ne=n(" Endorsed Documents "),ae={key:2},re=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-file-signature text-xl mr-4"})],-1)),le=n(" Applications "),ce=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-id-card-clip text-xl mr-4"})],-1)),de=n(" Monitor Application "),ue={key:3},he=s(()=>e("div",{class:"w-9"},[e("i",{class:"fa-solid fa-file-signature text-xl mr-4"})],-1)),fe=n(" Applications "),me={class:"flex-1"},ge={class:"sticky top-0 z-10 flex h-16 flex-shrink-0 shadow"},pe=s(()=>e("button",{type:"button",class:"border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden"},[e("span",{class:"sr-only"},"Open sidebar"),e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])],-1)),_e={class:"flex bg-white flex-1 justify-between px-4"},xe=s(()=>e("div",{class:"flex flex-1"},null,-1)),we={class:"ml-4 flex items-center md:ml-6"},be=s(()=>e("button",{type:"button",class:"rounded-full bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[e("span",{class:"sr-only"},"View notifications"),e("svg",{class:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})])],-1)),ve={class:"relative ml-3"},ye={class:"mr-3 capitalize"},ke=s(()=>e("span",{class:"sr-only"},"Open user menu",-1)),Ue=s(()=>e("img",{class:"h-8 w-8 rounded-full",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""},null,-1)),Se={class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1"},Be={class:"py-6 min-h-screen bg-center bg-cover bg-no-repeat"},Ce={class:""},Ee=s(()=>e("div",{class:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8"},null,-1)),Le={class:"mx-auto max-w-7xl px-4 sm:px-6 md:px-8"},De={class:"flex justify-center items-center"},Me=s(()=>e("p",{class:"text-lg"},"Signing out...",-1));function qe(t,r,Ae,Oe,l,m){const x=d("LoadingScreen"),a=d("router-link"),w=d("router-view"),b=d("BaseSpinner"),v=d("BaseDialog"),y=d("RequestError"),k=d("BaseErrorDialog");return l.isScreenLoading?(c(),g(x,{key:0})):(c(),u("section",q,[e("div",A,[O,e("div",R,[e("div",I,[e("div",j,[e("img",{class:"h-14 w-auto",src:"/assets/sksu1.png",alt:"Your Company"},null,8,z),V]),e("div",N,[e("nav",T,[t.User.hasRoleOf(["osas"])?(c(),u("div",Y,[o(a,{to:{name:"manage-school-year"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[H,P]),_:1}),o(a,{to:{name:"manage-university-tabs"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[W,F]),_:1}),o(a,{to:{name:"manage-account-tabs"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[G,J]),_:1}),o(a,{to:{name:"manage-application-tabs"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[Q,K]),_:1})])):h("",!0),t.User.hasRoleOf(["sbo-adviser"])?(c(),u("div",X,[o(a,{to:{name:"manage-organization"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[Z,$]),_:1}),o(a,{to:{name:"select-school-year-for-manage-officers"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[ee,se]),_:1}),o(a,{to:{name:"schools-officers-documents"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[te,oe]),_:1}),o(a,{to:{name:"schools-contain-endorsed-documents"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[ie,ne]),_:1})])):h("",!0),t.User.hasRoleOf(["sbo-student"])?(c(),u("div",ae,[o(a,{to:{name:"get-school-year-application"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[re,le]),_:1}),o(a,{to:{name:"school-year-minitor-application"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[ce,de]),_:1})])):h("",!0),t.User.hasRoleOf(["campus-director"])?(c(),u("div",ue,[o(a,{to:{name:"campus-director-endorsed-application"},href:"#",class:"text-white hover:bg-green-600 group flex items-center px-2 py-2 text-base font-medium rounded-md font-rubik"},{default:i(()=>[he,fe]),_:1})])):h("",!0)])])])]),e("div",me,[e("div",ge,[pe,e("div",_e,[xe,e("div",we,[be,e("div",ve,[e("div",null,[e("button",{onClick:r[0]||(r[0]=p=>l.showLogoutButton=!l.showLogoutButton),type:"button",class:"flex max-w-xs items-center rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",id:"user-menu-button","aria-expanded":"false","aria-haspopup":"true"},[n(f(t.User.id)+" ",1),e("span",null,f(t.User.user_roles),1),e("span",ye,f(t.User.first_name)+" "+f(t.User.last_name),1),ke,Ue])]),C(e("div",Se,[e("button",{onClick:r[1]||(r[1]=(...p)=>m.logoutUser&&m.logoutUser(...p)),class:"block px-4 py-2 text-sm text-gray-700",role:"menuitem",tabindex:"-1",id:"user-menu-item-2"}," Sign out ")],512),[[E,l.showLogoutButton]])])])])]),e("main",Be,[e("div",Ce,[Ee,e("div",Le,[o(w)])])])])]),(c(),g(_,{to:"#app"},[o(v,{show:l.isLogout,width:"200"},{"c-content":i(()=>[e("div",De,[o(b,{class:"mx-2"}),Me])]),_:1},8,["show"])])),(c(),g(_,{to:"#app"},[o(k,{show:l.requestError!=null},{"c-content":i(()=>[o(y,{statusCode:l.requestError.statusCode,onClose:m.closeErrorDialog,message:l.requestError.message},null,8,["statusCode","onClose","message"])]),_:1},8,["show"])]))]))}const Ie=U(M,[["render",qe],["__scopeId","data-v-7f513037"]]);export{Ie as default};
